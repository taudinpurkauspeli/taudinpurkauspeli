<p id="notice"><%= notice %></p>


<!-- headers -->
<div class="row">
  <div class="col-md-5">
    <h2>Casen <%= @exercise.name %> työhypoteesit</h2>
  </div>
  <div class="col-md-2">
  </div>
  <div class="col-md-5">
    <h2>Työhypoteesipankki</h2>
  </div>
</div>

<!-- lists of hypotheses -->
<div class="row">
  <div class="col-md-5">

        <% @exercise_hypotheses.each do |exercise_hypothesis| %>
          <div class="row">
            <div class="col-md-9">
              <input class="btn btn-default btn-hypothesis" type="button" value="<%= exercise_hypothesis.hypothesis.name %>" data-toggle="collapse" data-target="#collapseExerciseHypothesis<%= exercise_hypothesis.hypothesis_id %>" />
              <% if current_user_is_admin %>
                <div class="collapse" id="collapseExerciseHypothesis<%= exercise_hypothesis.hypothesis_id %>">
                  <%= form_for(exercise_hypothesis) do |f| %>
                    <%= f.hidden_field :exercise_id, :value => exercise_hypothesis.exercise_id %>
                    <%= f.hidden_field :hypothesis_id, :value => exercise_hypothesis.hypothesis_id %>

                    <div class="row">
                      <div class="col-md-12">
                        <%= f.text_area :explanation, placeholder: "Selite" %>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <%= f.submit :class => 'btn btn-default btn-save' %>
                      </div>
                      <div class="col-md-6">
                        
                      </div>
                    </div>
                  <% end %>
                  <%= button_to 'Poista casesta', exercise_hypothesis, method: :delete, :class => 'btn btn-default btn-del' %>
                </div>
              <% end %>
            </div>
          </div>
        <% end %>

  </div>
  <div class="col-md-2">
  </div>
  <div class="col-md-5">
    <% if current_user_is_admin %>

      <% @hypothesis_groups.each do |group| %>
        <div class="row">
          <div class="col-md-9">
            <input class="btn btn-default btn-hypothesis" type="button" value="<%= group.name %>" />
          </div>
          <div class="col-md-3">
            <%= button_to 'Poista', group, method: :delete, :class => 'btn btn-default btn-del', data: { confirm: 'Oletko varma?' } %>
          </div>
        </div>
        <% @hypotheses_bank.each do |hypothesis| %>

          <%#hypotheses that belongs to current group%>
          <% if hypothesis.hypothesis_group_id == group.id %>
            <div class="row">
              <div class="col-md-9">
                <%= form_for(@new_exercise_hypothesis) do |f| %>
                  <%= f.hidden_field :exercise_id, :value => @exercise.id %>
                  <%= f.hidden_field :hypothesis_id, :value => hypothesis.id %>
                  <%= f.submit hypothesis.name, :class => 'btn btn-default btn-hypothesis' %>
                <% end %>
              </div>
              <div class="col-md-3">
                <%= button_to 'Poista', hypothesis, method: :delete, :class => 'btn btn-default btn-del', data: { confirm: 'Oletko varma?' } %>
              </div>
            </div>
          <% end %>
        <% end %>
        <div class="row">
          <div class="col-md-9">
            <%= button_to '+ | Luo uusi työhypoteesi', new_hypothesis_path, method: :get, :class => 'btn btn-default btn-save' %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>


<br />
<br />






<br>


