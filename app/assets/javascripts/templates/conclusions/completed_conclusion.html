<div class="panel panel-default">
    <div class="panel-heading">

        <div class="row">
            <div class="col-md-10">
                <h3 class="panel-title panel-title-conclusion multiline">{{subtask.conclusion.title}}</h3>
            </div>
            <div class="col-md-2">
                <button uib-popover="Tällä sivulla voit tarkastella casen oikeaa diagnoosia ja siihen liittyvää selitystä."
                        popover-trigger="'outsideClick'" popover-placement="auto bottom-right" type="button" class="btn btn-default width-100">Ohje</button>
            </div>
        </div>
    </div>
    <div class="panel-body" ng-if="correctDiagnosis">
        <h3 class="center-text padding-bottom-20">Oikea diagnoosi:</h3>

        <div class="row padding-bottom-15">
            <div class="col-md-1"></div>
            <div class="col-md-10">

                <button class="btn btn-default btn-lg btn-unchecked-hypothesis multiline padding-top-10 padding-bottom-10"
                        ng-class="{'btn-success': userHasCheckedHypothesis(correctDiagnosis) && hypothesisIsCorrectDiagnosis(correctDiagnosis)}"
                        uib-collapse ng-click="correctDiagnosisCollapsed = !correctDiagnosisCollapsed">
                    {{correctDiagnosis.hypothesis.name}}
                </button>


                <div uib-collapse="correctDiagnosisCollapsed" class="correct-diagnosis center-text padding-top-20">

                    <div ng-if="hypothesisIsCorrectDiagnosis(correctDiagnosis)" class="padding-bottom-20">Hienoa! Selvitit oikean diagnoosin! </div>

                    <div ta-bind="text" ng-model="correctDiagnosis.explanation" class="padding-bottom-10"></div>
                </div>

            </div>
            <div class="col-md-1"></div>

        </div>

        <div ng-if="thereAreExerciseHypotheses && checkedHypotheses">
            <h3 class="center-text padding-bottom-20 padding-top-10">Lisäksi poissuljettiin seuraavat diffit:</h3>

            <div class="row padding-bottom-15" ng-repeat="exerciseHypothesis in exerciseHypotheses" ng-if="!hypothesisIsCorrectDiagnosis(exerciseHypothesis)">
                <div class="col-md-1"></div>
                <div class="col-md-10">

                    <button class="btn btn-default btn-lg btn-unchecked-hypothesis multiline padding-top-10 padding-bottom-10"
                            ng-class="{'btn-danger': userHasCheckedHypothesis(exerciseHypothesis) && !hypothesisIsCorrectDiagnosis(exerciseHypothesis)}"
                            ng-click="setExerciseHypothesisCollapse(exerciseHypothesis)">
                        {{exerciseHypothesis.hypothesis.name}}
                    </button>

                    <div uib-collapse="!exerciseHypothesis.collapsed" class="center-text padding-top-30 padding-bottom-20 question-answer">

                        <div ng-if="hypothesisIsCorrectDiagnosis(exerciseHypothesis)" class="padding-bottom-20">Hienoa! Selvitit oikean diagnoosin!</div>

                        <div ta-bind="text" ng-model="exerciseHypothesis.explanation" ng-if="exerciseHypothesis.explanation"></div>
                        <div ng-if="!exerciseHypothesis.explanation" class="padding-bottom-10">Tälle diffille ei ole asetettu selitystä.</div>
                    </div>

                </div>
                <div class="col-md-1"></div>

            </div>

        </div>

    </div>
</div>