<div class = "row">
    <div class = "col-md-8">
        <h1>Opiskelijoiden etenemisen seuranta</h1>
    </div>
    <div class = "col-md-4">
        <a tabindex="0" class="btn btn-help floatRight" role="button" data-toggle="popover" data-trigger="focus" data-placement="bottom" title="Ohje" data-content="Pelin käyttäjät.">Ohje</a>
    </div>
</div>
<div class = "separator"></div>

<div class="row" ng-repeat="(index, users) in usersByCase">
    <br/>
    <div class="col-md-12">
        <h3>{{index}}</h3>
    </div>
    <div class = "col-md-12">

        <div class="panel panel-default">
            <div class="panel-body">
                <table class = "width100">
                    <colgroup>
                        <col style="width:25%" />
                        <col style="width:25%" />
                        <col style="width:25%" />
                        <col style="width:25%" />
                    </colgroup>
                    <thead>
                    <tr>
                        <th class = "user">Etunimi</th>
                        <th class = "user">Sukunimi</th>
                        <th class = "user">Opiskelijanumero</th>
                        <th class = "user">Suoritettu</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr ng-repeat="user in users">
                        <td class="user">{{user.last_name}}</td>
                        <td class="user">{{user.first_name}}</td>
                        <td class="user">{{user.student_number}}</td>
                        <td class="user">
                            <div class ="progressbar" ng-class="{'completed': user.percent_of_completed_tasks == 100}">
                                <div ng-if="user.percent_of_completed_tasks < 100" class = "progressbar progress" ng-style="{'width': 100 - user.percent_of_completed_tasks}"></div>
                            </div>
                            <span class = "progress-percent">{{user.percent_of_completed_tasks}}%</span>
                        </td>

                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>

</div>
